{% extends "layout.html" %}

{% block body %}
<style>
    /* Gi·ªØ nguy√™n Style gi·∫£ l·∫≠p Streamlit c·ªßa n√≠ */
    .st-container { background: white; padding: 20px; border-radius: 10px; min-height: 80vh; }
    .st-label { font-size: 0.85rem; color: #31333f; margin-bottom: 8px; font-weight: 600; }
    .st-radio-group { display: flex; gap: 20px; margin-bottom: 20px; }
    .st-radio-item { display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 0.9rem; }
    .st-radio-item input[type="radio"] { accent-color: #ff4b4b; width: 18px; height: 18px; }
    .st-input { background-color: #f0f2f6; border: 1px solid rgba(49, 51, 63, 0.2); border-radius: 8px; padding: 10px; width: 100%; }
    .st-input:focus { border-color: #ff4b4b; outline: none; background-color: #fff; }
    .st-btn { background: white; border: 1px solid rgba(49, 51, 63, 0.2); color: #31333f; padding: 6px 16px; border-radius: 8px; }

    /* Hi·ªáu ·ª©ng ·∫©n hi·ªán */
    .hidden { display: none !important; }
</style>

<div class="st-container shadow-sm">
    <div class="d-flex align-items-center gap-2 mb-4">
        <img src="https://cdn-icons-png.flaticon.com/512/2554/2554045.png" width="25">
        <h4 class="mb-0 fw-bold">XU·∫§T KHO (OUTBOUND)</h4>
    </div>

    <form method="POST">
        <div class="st-label">Ch·∫ø ƒë·ªô:</div>
        <div class="st-radio-group">
            <label class="st-radio-item">
                <input type="radio" name="mode" value="retail" checked onchange="toggleMode()"> üöÄ Xu·∫•t L·∫ª
            </label>
            <label class="st-radio-item">
                <input type="radio" name="mode" value="po" onchange="toggleMode()"> üè≠ Xu·∫•t PO
            </label>
        </div>

        <div class="form-check mb-4">
            <input class="form-check-input" type="checkbox" id="pda_mode" style="accent-color: #ff4b4b;">
            <label class="form-check-label st-label ms-1" for="pda_mode">‚ö° Ch·∫ø ƒë·ªô PDA (Auto-Submit)</label>
        </div>

        <hr style="opacity: 0.1;">

        <div id="section-retail">
            <div class="st-label">Input:</div>
            <div class="st-radio-group">
                <label class="st-radio-item"><input type="radio" name="input_type" checked> S√∫ng/PDA</label>
                <label class="st-radio-item"><input type="radio" name="input_type"> Camera ƒêT</label>
            </div>
            <div class="p-3 border rounded-3 bg-white shadow-sm">
                <div class="st-label">M√£:</div>
                <input type="text" name="barcode_scan" class="st-input mb-3" placeholder="Qu√©t m√£ SKU|Batch...">
                <button type="submit" class="st-btn">Xu·∫•t 1 Unit</button>
            </div>
        </div>

        <div id="section-po" class="hidden">
            <div class="row">
                <div class="col-md-5">
                    <div class="st-label">Ch·ªçn PO:</div>
                    <select class="st-input mb-3">
                        <option>PO-2026-001</option>
                        <option>PO-2026-002</option>
                    </select>
                    <div class="st-label">BOM:</div>
                    <table class="table table-sm border small">
                        <thead class="bg-light">
                            <tr><th>SKU</th><th>ƒê·ªãnh M·ª©c</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>VNM-SUATUOI-RAW</td><td>1000</td></tr>
                            <tr><td>VNM-DUONG-TINH</td><td>5</td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-md-7">
                    <div class="p-3 border rounded-3 bg-white shadow-sm">
                        <div class="st-label">Scan Barcode:</div>
                        <input type="text" class="st-input mb-3" placeholder="Qu√©t m√£ ƒë·ªÉ check BOM...">
                        <button type="button" class="st-btn">Check</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

<script>
function toggleMode() {
    const mode = document.querySelector('input[name="mode"]:checked').value;
    const retailSection = document.getElementById('section-retail');
    const poSection = document.getElementById('section-po');

    if (mode === 'retail') {
        retailSection.classList.remove('hidden');
        poSection.classList.add('hidden');
    } else {
        retailSection.classList.add('hidden');
        poSection.classList.remove('hidden');
    }
}
</script>
{% endblock %}